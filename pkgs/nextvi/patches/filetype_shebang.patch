--- source/ex.c.orig
+++ source/ex.c
@@ -414,6 +414,19 @@
 		ex_show("read failed");
 	else
 		ex_show(msg);
+	if (lbuf_len(xb) > 0) {
+		int adv = 0;
+		while (lbuf_len(xb) >= adv && lbuf_buf(xb)[adv][0] == '\n')
+			adv++;
+		char *langs[] = {"/bin/sh", "/usr/bin/sh", "/usr/bin/env sh", "/bin/bash", "/usr/bin/bash", "/usr/bin/env bash", "/bin/dash", "/usr/bin/dash", "/usr/bin/env dash", "/bin/python", "/usr/bin/python", "/usr/bin/env python"};
+		char *types[] = {"sh", "sh", "sh", "sh", "sh", "sh", "sh", "sh", "sh", "py", "py", "py"};
+		for (int i = 0; i < LEN(langs); i++) {
+			if (strstr(lbuf_buf(xb)[adv], langs[i])) {
+				strcpy(ex_buf->ft, types[i]);
+				syn_setft(ex_buf->ft);
+			}
+		}
+	}
 	free(path);
 	return 0;
 }
